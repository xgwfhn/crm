<!-- 
http://plugins.krajee.com/file-input,这是其官方文档，里面有下载地址。
参考:http://www.cnblogs.com/wuhuacong/p/4774396.html
	http://blog.csdn.net/qing_gee/article/details/51027040#t8
	http://www.htmleaf.com/html5/html5muban/201505091801.html
 -->
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>没有显示数据库文件,直接上传</title>
<!-- <link href="../style/bootstrap/bootstrap.css" rel="stylesheet"/> -->
<!-- <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet"> -->
<script src="../script/common.js" type="text/javascript"></script>
<link href="http://127.0.0.1:8080/product/style/bootstrap/bootstrap.css" rel="stylesheet">  
<link type="text/css" rel="stylesheet" href="http://127.0.0.1:8080/product/style/bootstrap/fileinput.css" />
 <script type="text/javascript" src="http://127.0.0.1:8080/product/script/easyui/jquery.min.js"></script>
<script type="text/javascript" src="http://127.0.0.1:8080/product/script/fileupload/fileinput.js"></script>
<!-- <script src="../script/fileupload/bootstrap.js" type="text/javascript"></script> -->
<!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" type="text/javascript"></script>  -->
<script src="http://127.0.0.1:8080/product/script/bootstrap/bootstrap.js" type="text/javascript"></script>
<script type="text/javascript" src="http://127.0.0.1:8080/product/script/fileupload/zh.js"></script>
<script type="text/javascript"> 

$(function() { 	
	var address=window.location.href;
    var thisDLoc   =   document.location;  
    var hostport=document.location.host;
    //console.log("address",address);
    //console.log("thisDLoc",thisDLoc);
    //console.log("hostport",hostport);
	//此种方式  是同步还是异步呢
    $("#testlogo").fileinput({
    	   uploadUrl: 'upload.do', 
    	   initialPreview: [//初始化页面加载时要显示的文件
               '../style/upload/631px_FullMoon201020160823221510.jpg',
               '../style/upload/Earth_Eastern_Hemisphere20160823221141.jpg'
           ],
           initialPreviewAsData: true,
           initialPreviewConfig: [
               {caption: "Moon.jpg", size: 930321, width: "250px", key: 1},//此处width是不生效的
               {caption: "Earth.jpg", size: 1218822, width: "150px", key: 2}
           ],
           previewSettings:{//设置图片的大小,width一般设置为auto,才能对齐,只能在这种写法中生效
                image: {width: "auto", height: "160px"}            
           },

           deleteUrl: "/site/file-delete",
           overwriteInitial: false,
           maxFileSize: 100,
           initialCaption: "The Moon and the Earth"
       }).off('filepreupload').on('filepreupload', function() {  
//         alert(data.url);  
       }).on("fileuploaded", function(event, outData) {  //文件上传成功后返回的数据
    	   var response = outData.response;
    	   response=eval("("+response+")");//转换为json对象 
    	   alert(response.message);
       });      
    
    
	
});


</script>
</head>
<body>
<!-- 
<input id="input-id" type="file" class="file" data-preview-file-type="text">
 -->
     	 <label class="control-label">Planets and Satellites</label>
         <input id="testlogo" type="file" name="icoFile"   multiple class="file-loading"/>
     
</body>
</html>